let cards=["♠A","♠2","♠3","♠4","♠5","♠6","♠7","♠8","♠9","♠10","♠J","♠Q","♠K","♦A","♦2","♦3","♦4","♦5","♦6","♦7","♦8","♦9","♦10","♦J","♦Q","♦K","♣A","♣2","♣3","♣4","♣5","♣6","♣7","♣8","♣9","♣10","♣J","♣Q","♣K","♥A","♥2","♥3","♥4","♥5","♥6","♥7","♥8","♥9","♥10","♥J","♥Q","♥K"],extraCards=["wc","wc","wc"],currentHand=1,hands={hand1:[],hand2:[],hand3:[],hand4:[],hand5:[],hand6:[],hand7:[],hand8:[],hand9:[],hand10:[]},handScores={hand1:0,hand2:0,hand3:0,hand4:0,hand5:0,hand6:0,hand7:0,hand8:0,hand9:0,hand10:0},handNames={hand1:"",hand2:"",hand3:"",hand4:"",hand5:"",hand6:"",hand7:"",hand8:"",hand9:"",hand10:""};const baseValues={"high card":5,pair:10,"2 pair":20,"3 of a kind":30,straight:40,flush:50,"full house":60,"4 of a kind":80,"straight flush":100,"royal flush":100},deal=()=>{for(let e=1;e<=10;e++){hands["hand"+e]=[];for(let a=0;a<5;a++){var n=Math.floor(Math.random()*cards.length);hands["hand"+e].push(cards[n]),cards.splice(n,1)}}extraCards.unshift(cards[1]),cards.splice(1,1),extraCards.unshift(cards[0]),cards.splice(0,1),createCards(hands.hand1)},createCards=a=>{const t=document.createElement("ul");t.classList.add("hand"),t.dataset.hand=currentHand,a.forEach(a=>{var e=document.createElement("li"),n=a[0],d=a.substring(1,a.length);if("wc"!=a){switch(e.innerHTML=`<span class="card-first-no">${d}</span>
													<span class="card-suit">${n}</span>
													<span class="card-second-no">${d}</span>`,e.classList.add("card"),e.setAttribute("data-number",""+d),n){case"♠":e.classList.add("spade"),e.setAttribute("data-suit","spade");break;case"♦":e.classList.add("diamond"),e.setAttribute("data-suit","diamond");break;case"♣":e.classList.add("club"),e.setAttribute("data-suit","club");break;case"♥":e.classList.add("heart"),e.setAttribute("data-suit","heart")}t.append(e)}document.querySelector(".card-area").append(t)});a=document.createElement("div");a.classList.add("hand-confirm-wrap"),a.innerHTML='<button type="button" class="hand-confirm" onclick="confirmHand()">Play hand</button>',document.querySelector(`.hand[data-hand="${currentHand}"]`).append(a)},confirmHand=()=>{calcHandScore(currentHand),currentHand<10&&(currentHand++,console.log("current hand: "+currentHand),createCards(hands["hand"+currentHand]))},moveInHand=()=>{},moveToPrevHand=()=>{},calcHandScore=a=>{var e=hands["hand"+a].map(a=>a[0]);const d=hands["hand"+a].map(a=>a.substring(1,a.length));var a=new Set(e).size,e=new Set(d).size,t=[["A","2","3","4","5"],["2","3","4","5","6"],["3","4","5","6","7"],["4","5","6","7","8"],["5","6","7","8","9"],["6","7","8","9","10"],["7","8","9","10","J"],["8","9","10","J","Q"],["9","10","J","Q","K"],["10","J","Q","K","A"]];const n=t[9];var s=d.every(a=>n.includes(a));const r=1==Number(a);a=s&&r;let h=!1,c=!1,i=!1,l=!1,u=!1,o=!1,f=!1;const A=d.filter((a,e)=>d.indexOf(a)!==e);if(1<=new Set(A).size&&(f=!0),5==e){let n=[];t.forEach((e,a)=>{n[a]=d.every(a=>e.includes(a)),1==n[a]&&(l=!0,r)&&(h=!0)})}if(3==e){const A=d.filter((a,e)=>d.indexOf(a)!==e);f=(2==new Set(A).size?o=!0:u=!0,!0)}if(2==e){const A=d.filter((a,e)=>d.indexOf(a)!==e);if(2==new Set(A).size){const i=!0;f=!0,o=!0,u=!0}else c=!0,u=!0,f=!0}let p;p=a?"royal flush":h?"straight flush":c?"4 of a kind":i?"full house":r?"flush":l?"straight":u?"3 of a kind":o?"2 pair":f?"pair":"high card",handNames["hand"+currentHand]=p,document.querySelector(`.hand[data-hand="${currentHand}"] .hand-confirm-wrap`).innerHTML=`<div class='hand-result'>${p}</div>`,handScores["hand"+currentHand]=baseValues[p]},reset=(window.addEventListener("DOMContentLoaded",()=>{deal()}),()=>{currentHand=1,document.querySelector(".card-area").innerHTML=""}),testroyalflush=()=>{reset(),hands.hand1=["♥A","♥10","♥J","♥Q","♥K"],createCards(["♥A","♥10","♥J","♥Q","♥K"])},testfullhouse=()=>{reset(),hands.hand1=["♥A","♠A","♦A","♥7","♦7"],createCards(["♥A","♠A","♦A","♥7","♦7"])},test4ofakind=()=>{reset(),hands.hand1=["♥A","♠A","♦A","♣A","♦2"],createCards(["♥A","♠A","♦A","♣A","♦2"])},testflush=()=>{reset(),hands.hand1=["♥A","♥K","♥6","♥4","♥2"],createCards(["♥A","♥K","♥6","♥4","♥2"])},test3ofakind=()=>{reset(),hands.hand1=["♥A","♦A","♥6","♣A","♥2"],createCards(["♥A","♦A","♥6","♣A","♥2"])},test2pair=()=>{reset(),hands.hand1=["♥A","♦A","♥6","♣6","♥2"],createCards(["♥A","♦A","♥6","♣6","♥2"])},teststraight=()=>{reset(),hands.hand1=["♥A","♦2","♥3","♣4","♥5"],createCards(["♥A","♦2","♥3","♣4","♥5"])},teststraightflush=()=>{reset(),hands.hand1=["♦5","♦6","♦9","♦8","♦7"],createCards(["♦5","♦6","♦9","♦8","♦7"])};