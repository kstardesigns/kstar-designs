let cards=["♠A","♠2","♠3","♠4","♠5","♠6","♠7","♠8","♠9","♠10","♠J","♠Q","♠K","♦A","♦2","♦3","♦4","♦5","♦6","♦7","♦8","♦9","♦10","♦J","♦Q","♦K","♣A","♣2","♣3","♣4","♣5","♣6","♣7","♣8","♣9","♣10","♣J","♣Q","♣K","♥A","♥2","♥3","♥4","♥5","♥6","♥7","♥8","♥9","♥10","♥J","♥Q","♥K"],extraCards=["wc","wc","wc"],currentHand=1,hands={hand1:[],hand2:[],hand3:[],hand4:[],hand5:[],hand6:[],hand7:[],hand8:[],hand9:[],hand10:[]},handScores={hand1:0,hand2:0,hand3:0,hand4:0,hand5:0,hand6:0,hand7:0,hand8:0,hand9:0,hand10:0},handNames={hand1:"",hand2:"",hand3:"",hand4:"",hand5:"",hand6:"",hand7:"",hand8:"",hand9:"",hand10:""};const baseValues={"high card":5,pair:10,"2 pair":20,"3 of a kind":30,straight:40,flush:50,"full house":60,"4 of a kind":80,"straight flush":100,"royal flush":100},deal=()=>{for(let a=1;a<=10;a++){hands[`hand${a}`]=[];for(let t=0;t<5;t++){const t=Math.floor(Math.random()*cards.length);hands[`hand${a}`].push(cards[t]),cards.splice(t,1)}}extraCards.unshift(cards[1]),cards.splice(1,1),extraCards.unshift(cards[0]),cards.splice(0,1),createCards(hands.hand1)},createCards=a=>{const t=document.createElement("ul");t.classList.add("hand"),t.dataset.hand=currentHand,a.forEach((a=>{const e=document.createElement("li"),n=a[0],d=a.substring(1,a.length);if("wc"!=a){switch(e.innerHTML=`<span class="card-first-no">${d}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="card-suit">${n}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="card-second-no">${d}</span>`,e.classList.add("card"),e.setAttribute("data-number",`${d}`),n){case"♠":e.classList.add("spade"),e.setAttribute("data-suit","spade");break;case"♦":e.classList.add("diamond"),e.setAttribute("data-suit","diamond");break;case"♣":e.classList.add("club"),e.setAttribute("data-suit","club");break;case"♥":e.classList.add("heart"),e.setAttribute("data-suit","heart")}t.append(e)}document.querySelector(".card-area").append(t)}));const e=document.createElement("div");e.classList.add("hand-confirm-wrap"),e.innerHTML='<button type="button" class="hand-confirm" onclick="confirmHand()">Play hand</button>',document.querySelector(`.hand[data-hand="${currentHand}"]`).append(e)},confirmHand=()=>{calcHandScore(currentHand),currentHand<10&&(currentHand++,console.log(`current hand: ${currentHand}`),createCards(hands[`hand${currentHand}`]))},moveInHand=()=>{},moveToPrevHand=()=>{},calcHandScore=a=>{const t=hands[`hand${a}`].map((a=>a[0])),e=hands[`hand${a}`].map((a=>a.substring(1,a.length))),n=new Set(t).size,d=new Set(e).size,s=[["A","2","3","4","5"],["2","3","4","5","6"],["3","4","5","6","7"],["4","5","6","7","8"],["5","6","7","8","9"],["6","7","8","9","10"],["7","8","9","10","J"],["8","9","10","J","Q"],["9","10","J","Q","K"],["10","J","Q","K","A"]],r=s[9],c=e.every((a=>r.includes(a))),h=1==Number(n),i=c&&h;let l=!1,o=!1,u=!1,f=!1,A=!1,p=!1;const m=e.filter(((a,t)=>e.indexOf(a)!==t));if(new Set(m).size>=1&&(p=!0),5==d){let a=[];s.forEach(((t,n)=>{a[n]=e.every((a=>t.includes(a))),1==a[n]&&(u=!0,h&&(l=!0))}))}if(3==d){const a=e.filter(((a,t)=>e.indexOf(a)!==t));2==new Set(a).size?(A=!0,p=!0):(f=!0,p=!0)}if(2==d){const a=e.filter(((a,t)=>e.indexOf(a)!==t));if(2==new Set(a).size){p=!0,A=!0,f=!0}else o=!0,f=!0,p=!0}let H;H=i?"royal flush":l?"straight flush":o?"4 of a kind":h?"flush":u?"straight":f?"3 of a kind":A?"2 pair":p?"pair":"high card",handNames[`hand${currentHand}`]=H,document.querySelector(`.hand[data-hand="${currentHand}"] .hand-confirm-wrap`).innerHTML=`<div class='hand-result'>${H}</div>`,handScores[`hand${currentHand}`]=baseValues[H]};window.addEventListener("DOMContentLoaded",(()=>{deal()}));const reset=()=>{currentHand=1,document.querySelector(".card-area").innerHTML=""},testroyalflush=()=>{reset(),hands.hand1=["♥A","♥10","♥J","♥Q","♥K"],createCards(["♥A","♥10","♥J","♥Q","♥K"])},testfullhouse=()=>{reset(),hands.hand1=["♥A","♠A","♦A","♥7","♦7"],createCards(["♥A","♠A","♦A","♥7","♦7"])},test4ofakind=()=>{reset(),hands.hand1=["♥A","♠A","♦A","♣A","♦2"],createCards(["♥A","♠A","♦A","♣A","♦2"])},testflush=()=>{reset(),hands.hand1=["♥A","♥K","♥6","♥4","♥2"],createCards(["♥A","♥K","♥6","♥4","♥2"])},test3ofakind=()=>{reset(),hands.hand1=["♥A","♦A","♥6","♣A","♥2"],createCards(["♥A","♦A","♥6","♣A","♥2"])},test2pair=()=>{reset(),hands.hand1=["♥A","♦A","♥6","♣6","♥2"],createCards(["♥A","♦A","♥6","♣6","♥2"])},teststraight=()=>{reset(),hands.hand1=["♥A","♦2","♥3","♣4","♥5"],createCards(["♥A","♦2","♥3","♣4","♥5"])},teststraightflush=()=>{reset(),hands.hand1=["♦5","♦6","♦9","♦8","♦7"],createCards(["♦5","♦6","♦9","♦8","♦7"])};