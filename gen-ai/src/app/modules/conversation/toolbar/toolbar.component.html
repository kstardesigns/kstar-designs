<div class="bh-chat-toolbar inner-width">
    <img class="bh-chat-toolbar-convo" src="assets/images/bh-ic-convo.svg" alt="" />

    @if (editMode) {
        <div class="bh-chat-toolbar-input-horiz bh-text-input-field bh-text-input-horiz">
            <div class="bh-chat-toolbar-flex bh-text-input-horiz-flex">
                <label class="bh-chat-toolbar-label bh-text-input-field-label bh-text-input-horiz-label" for="chat-name">Rename chat</label>
                <div class="bh-chat-toolbar-right-side bh-text-input-horiz-right-side">
                    <input [(ngModel)]="currentChatName" class="bh-chat-toolbar-input bh-text-input-field-input bh-text-input-horiz-input" type="text" id="chat-name" [attr.placeholder]="currentChatName" name="label" aria-invalid="false" #chatName />
                    <div class="bh-text-input-field-error"></div>
                </div>
            </div>
        </div>
        <button type="button" (click)="toggleEditMode()" class="bh-primary-button bh-primary-button--small">Save</button>
    } @else {
        <div class="bh-chat-toolbar-name bh-body-1-main">{{ currentChatName }}</div>
        <button type="button" (click)="toggleEditMode()" class="bh-chat-toolbar-edit" aria-label="Edit chat name">
            <svg class="bh-svg-inline bh-svg-edit-alternate" aria-hidden="true" focusable="false" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.71 5.63006C21.1 6.02006 21.1 6.65006 20.71 7.04006L18.88 8.87006L15.13 5.12006L16.96 3.29006C17.35 2.90006 17.98 2.90006 18.37 3.29006L20.71 5.63006ZM3 21.0001V17.2501L14.06 6.19006L17.81 9.94006L6.75 21.0001H3Z" fill="#00205b" />
                </g>
            </svg>
        </button>
        <button type="button" (click)="toggleFavorite()" class="bh-chat-toolbar-favorite" [attr.aria-label]="favAriaLabel">
            <svg *ngIf="isFavorited$ | async as isFavorited; else notFavorited" class="bh-svg-inline bh-svg-star" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false">
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <path d="M12.8835,2.5296 L15.5655,7.5586 L21.1755,8.5546 C21.9645,8.6946 22.2765,9.6566 21.7215,10.2326 L17.7675,14.3366 L18.5535,19.9816 C18.6645,20.7736 17.8455,21.3686 17.1265,21.0186 L12.0015,18.5266 L6.8765,21.0186 C6.1565,21.3686 5.3385,20.7736 5.4485,19.9816 L6.2355,14.3366 L2.2805,10.2326 C1.7255,9.6566 2.0385,8.6946 2.8265,8.5546 L8.4375,7.5586 L11.1185,2.5296 C11.4955,1.8236 12.5075,1.8236 12.8835,2.5296" fill="#00205b" fill-rule="nonzero"></path>
                </g>
            </svg>
            <ng-template #notFavorited>
                <svg class="bh-svg-inline bh-svg-star" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">                    
                        <path d="M12.0012,1.9998 C11.6542,1.9998 11.3072,2.1768 11.1192,2.5298 L8.4372,7.5588 L2.8262,8.5548 C2.0382,8.6938 1.7262,9.6568 2.2812,10.2328 L6.2352,14.3368 L5.4482,19.9808 C5.3602,20.6148 5.8642,21.1218 6.4382,21.1218 C6.5822,21.1218 6.7312,21.0888 6.8762,21.0188 L12.0012,18.5258 L17.1262,21.0188 C17.2712,21.0888 17.4192,21.1218 17.5642,21.1218 C18.1382,21.1218 18.6422,20.6148 18.5542,19.9808 L17.7672,14.3368 L21.7212,10.2328 C22.2762,9.6568 21.9642,8.6938 21.1762,8.5548 L15.5652,7.5588 L12.8832,2.5298 C12.6952,2.1768 12.3482,1.9998 12.0012,1.9998 M12.0012,5.1248 L14.2572,9.3578 L18.9802,10.1958 L15.6522,13.6498 L16.3142,18.3998 L12.0012,16.3028 L7.6882,18.3998 L8.3502,13.6498 L5.0222,10.1958 L9.7452,9.3578 L12.0012,5.1248" fill="#00205b" fill-rule="nonzero"></path>
                    </g>
                </svg>
            </ng-template>
        </button>
    }
</div>